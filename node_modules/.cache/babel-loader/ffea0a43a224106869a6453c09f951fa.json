{"ast":null,"code":"import _objectSpread from \"/home/hasham-dev/Downloads/login-registration-forms1/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport { LOGIN_FAILED, LOGIN_REQUESTED, LOGIN_SUCCESS, REGISTRATION_FAILED, REGISTRATION_REQUESTED, REGISTRATION_SUCCESS, LOGOUT_USER, CLEAR_MESSAGE } from \"./actions\";\nvar initialState = {\n  user: {},\n  isAuthenticated: false,\n  loading: false,\n  success: false,\n  status: \"\"\n};\nvar userReducer = function userReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  switch (action.type) {\n    case CLEAR_MESSAGE:\n      return _objectSpread(_objectSpread({}, initialState), {}, {\n        status: \"\",\n        success: false,\n        loading: false\n      });\n    case LOGOUT_USER:\n      localStorage.removeItem(\"AuthToken\");\n      return initialState;\n    case LOGIN_REQUESTED:\n      return _objectSpread(_objectSpread({}, initialState), {}, {\n        loading: true,\n        status: \"Authenticating...\"\n      });\n    case LOGIN_SUCCESS:\n      var _action$payload = action.payload,\n        user = _action$payload.user,\n        accessToken = _action$payload.accessToken;\n      localStorage.setItem(\"authToken\", accessToken);\n      return _objectSpread(_objectSpread({}, state), {}, {\n        user: _objectSpread(_objectSpread({}, user), {}, {\n          accessToken: accessToken\n        }),\n        isAuthenticated: true,\n        loading: false,\n        success: true,\n        status: action.payload.status\n      });\n    case LOGIN_FAILED:\n      return _objectSpread(_objectSpread({}, initialState), {}, {\n        status: action.payload.status\n      });\n    case REGISTRATION_REQUESTED:\n      return _objectSpread(_objectSpread({}, initialState), {}, {\n        loading: true,\n        status: \"Registering...\"\n      });\n    case REGISTRATION_SUCCESS:\n      return _objectSpread(_objectSpread({}, initialState), {}, {\n        success: true,\n        status: action.payload.status\n      });\n    case REGISTRATION_FAILED:\n      return _objectSpread(_objectSpread({}, initialState), {}, {\n        status: action.payload.status\n      });\n    default:\n      return _objectSpread({}, state);\n  }\n};\nexport default userReducer;","map":{"version":3,"names":["LOGIN_FAILED","LOGIN_REQUESTED","LOGIN_SUCCESS","REGISTRATION_FAILED","REGISTRATION_REQUESTED","REGISTRATION_SUCCESS","LOGOUT_USER","CLEAR_MESSAGE","initialState","user","isAuthenticated","loading","success","status","userReducer","state","action","type","localStorage","removeItem","payload","accessToken","setItem"],"sources":["/home/hasham-dev/Downloads/login-registration-forms1/src/redux/reducer.js"],"sourcesContent":["import {\r\n  LOGIN_FAILED,\r\n  LOGIN_REQUESTED,\r\n  LOGIN_SUCCESS,\r\n  REGISTRATION_FAILED,\r\n  REGISTRATION_REQUESTED,\r\n  REGISTRATION_SUCCESS,\r\n  LOGOUT_USER,\r\n  CLEAR_MESSAGE\r\n} from \"./actions\";\r\n\r\nconst initialState = {\r\n  user: {},\r\n  isAuthenticated: false,\r\n  loading: false,\r\n  success: false,\r\n  status: \"\"\r\n};\r\n\r\nconst userReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case CLEAR_MESSAGE:\r\n      return { ...initialState, status: \"\", success: false, loading: false };\r\n    case LOGOUT_USER:\r\n      localStorage.removeItem(\"AuthToken\");\r\n      return initialState;\r\n    case LOGIN_REQUESTED:\r\n      return { ...initialState, loading: true, status: \"Authenticating...\" };\r\n    case LOGIN_SUCCESS:\r\n      const { user, accessToken } = action.payload;\r\n      localStorage.setItem(\"authToken\", accessToken);\r\n      return {\r\n        ...state,\r\n        user: { ...user, accessToken },\r\n        isAuthenticated: true,\r\n        loading: false,\r\n        success: true,\r\n        status: action.payload.status\r\n      };\r\n    case LOGIN_FAILED:\r\n      return { ...initialState, status: action.payload.status };\r\n\r\n    case REGISTRATION_REQUESTED:\r\n      return {\r\n        ...initialState,\r\n        loading: true,\r\n        status: \"Registering...\"\r\n      };\r\n    case REGISTRATION_SUCCESS:\r\n      return {\r\n        ...initialState,\r\n        success: true,\r\n        status: action.payload.status\r\n      };\r\n    case REGISTRATION_FAILED:\r\n      return {\r\n        ...initialState,\r\n        status: action.payload.status\r\n      };\r\n    default:\r\n      return { ...state };\r\n  }\r\n};\r\n\r\nexport default userReducer;\r\n"],"mappings":";AAAA,SACEA,YAAY,EACZC,eAAe,EACfC,aAAa,EACbC,mBAAmB,EACnBC,sBAAsB,EACtBC,oBAAoB,EACpBC,WAAW,EACXC,aAAa,QACR,WAAW;AAElB,IAAMC,YAAY,GAAG;EACnBC,IAAI,EAAE,CAAC,CAAC;EACRC,eAAe,EAAE,KAAK;EACtBC,OAAO,EAAE,KAAK;EACdC,OAAO,EAAE,KAAK;EACdC,MAAM,EAAE;AACV,CAAC;AAED,IAAMC,WAAW,GAAG,SAAdA,WAAW,GAAqC;EAAA,IAAjCC,KAAK,uEAAGP,YAAY;EAAA,IAAEQ,MAAM;EAC/C,QAAQA,MAAM,CAACC,IAAI;IACjB,KAAKV,aAAa;MAChB,uCAAYC,YAAY;QAAEK,MAAM,EAAE,EAAE;QAAED,OAAO,EAAE,KAAK;QAAED,OAAO,EAAE;MAAK;IACtE,KAAKL,WAAW;MACdY,YAAY,CAACC,UAAU,CAAC,WAAW,CAAC;MACpC,OAAOX,YAAY;IACrB,KAAKP,eAAe;MAClB,uCAAYO,YAAY;QAAEG,OAAO,EAAE,IAAI;QAAEE,MAAM,EAAE;MAAmB;IACtE,KAAKX,aAAa;MAChB,sBAA8Bc,MAAM,CAACI,OAAO;QAApCX,IAAI,mBAAJA,IAAI;QAAEY,WAAW,mBAAXA,WAAW;MACzBH,YAAY,CAACI,OAAO,CAAC,WAAW,EAAED,WAAW,CAAC;MAC9C,uCACKN,KAAK;QACRN,IAAI,kCAAOA,IAAI;UAAEY,WAAW,EAAXA;QAAW,EAAE;QAC9BX,eAAe,EAAE,IAAI;QACrBC,OAAO,EAAE,KAAK;QACdC,OAAO,EAAE,IAAI;QACbC,MAAM,EAAEG,MAAM,CAACI,OAAO,CAACP;MAAM;IAEjC,KAAKb,YAAY;MACf,uCAAYQ,YAAY;QAAEK,MAAM,EAAEG,MAAM,CAACI,OAAO,CAACP;MAAM;IAEzD,KAAKT,sBAAsB;MACzB,uCACKI,YAAY;QACfG,OAAO,EAAE,IAAI;QACbE,MAAM,EAAE;MAAgB;IAE5B,KAAKR,oBAAoB;MACvB,uCACKG,YAAY;QACfI,OAAO,EAAE,IAAI;QACbC,MAAM,EAAEG,MAAM,CAACI,OAAO,CAACP;MAAM;IAEjC,KAAKV,mBAAmB;MACtB,uCACKK,YAAY;QACfK,MAAM,EAAEG,MAAM,CAACI,OAAO,CAACP;MAAM;IAEjC;MACE,yBAAYE,KAAK;EAAG;AAE1B,CAAC;AAED,eAAeD,WAAW"},"metadata":{},"sourceType":"module"}