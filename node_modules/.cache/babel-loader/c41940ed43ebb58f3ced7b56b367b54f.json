{"ast":null,"code":"import { isDevelopment, isTest } from \"./environment.js\";\nfunction isObject(value) {\n  return value !== null && typeof value === \"object\";\n}\nfunction deepFreeze(value) {\n  var workSet = new Set([value]);\n  workSet.forEach(function (obj) {\n    if (isObject(obj)) {\n      if (!Object.isFrozen(obj)) Object.freeze(obj);\n      Object.getOwnPropertyNames(obj).forEach(function (name) {\n        if (isObject(obj[name])) workSet.add(obj[name]);\n      });\n    }\n  });\n  return value;\n}\nexport function maybeDeepFreeze(obj) {\n  if (process.env.NODE_ENV !== \"production\" && (isDevelopment() || isTest())) {\n    deepFreeze(obj);\n  }\n  return obj;\n}","map":{"version":3,"sources":["../../../src/utilities/common/maybeDeepFreeze.ts"],"names":[],"mappings":"AAAA,SAAS,aAAa,EAAE,MAAM,QAAQ,kBAAgB;AAEtD,SAAS,QAAQ,CAAC,KAAU,EAAA;EAC1B,OAAO,KAAK,KAAK,IAAI,IAAI,OAAO,KAAK,KAAK,QAAQ;AACpD;AAEA,SAAS,UAAU,CAAC,KAAU,EAAA;EAC5B,IAAM,OAAO,GAAG,IAAI,GAAG,CAAC,CAAC,KAAK,CAAC,CAAC;EAChC,OAAO,CAAC,OAAO,CAAC,UAAA,GAAG,EAAA;IACjB,IAAI,QAAQ,CAAC,GAAG,CAAC,EAAE;MACjB,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE,MAAM,CAAC,MAAM,CAAC,GAAG,CAAC;MAC7C,MAAM,CAAC,mBAAmB,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,UAAA,IAAI,EAAA;QAC1C,IAAI,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,EAAE,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;MACjD,CAAC,CAAC;IACH;EACH,CAAC,CAAC;EACF,OAAO,KAAK;AACd;AAEA,OAAM,SAAU,eAAe,CAAI,GAAM,EAAA;EACvC,IAAI,OAAO,CAAC,GAAG,CAAC,QAAQ,KAAK,YAAY,KAAK,aAAa,EAAE,IAAI,MAAM,EAAE,CAAC,EAAE;IAC1E,UAAU,CAAC,GAAG,CAAC;EAChB;EACD,OAAO,GAAG;AACZ","sourcesContent":["import { isDevelopment, isTest } from './environment';\n\nfunction isObject(value: any) {\n  return value !== null && typeof value === \"object\";\n}\n\nfunction deepFreeze(value: any) {\n  const workSet = new Set([value]);\n  workSet.forEach(obj => {\n    if (isObject(obj)) {\n      if (!Object.isFrozen(obj)) Object.freeze(obj);\n      Object.getOwnPropertyNames(obj).forEach(name => {\n        if (isObject(obj[name])) workSet.add(obj[name]);\n      });\n    }\n  });\n  return value;\n}\n\nexport function maybeDeepFreeze<T>(obj: T): T {\n  if (process.env.NODE_ENV !== \"production\" && (isDevelopment() || isTest())) {\n    deepFreeze(obj);\n  }\n  return obj;\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}